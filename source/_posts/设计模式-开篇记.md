---
title: 设计模式-开篇记
categories: 设计模式
date: 2019-03-22 16:20:50
tags: 设计模式
keywords: [设计模式]
description: 设计模式开篇词，记录了部分《设计模式之禅》的笔记
---



# 前言

之所以开了一个写设计模式的系列，是因为在上家公司之时曾经用过其中的几种，而今将近半年时间过去，由于当初理解的不深入，导致现在已经忘了很多。技能这个东西总是越练越熟的，在我的理解中，语言是交流的工具，例如Java，C等各种计算机语言是我们与计算机交流的一种工具；算法是交流的逻辑和套路；数据结构是语言的组织方式；网络是远程的联系方式。如果把我们写的一个项目当成是一个人对计算机发表的演讲，那么设计模式就是演讲里的奇技淫巧，使我们的项目结构更清晰，扩展更加容易，人与机器皆大欢喜。

<!--more-->

# UML类图

由于笔记中会有一些类图，所以这里记载一下类图之间的关系。图片来源于[https://www.cnblogs.com/pangjianxin/p/7877868.html](https://www.cnblogs.com/pangjianxin/p/7877868.html)

（原图出处我也不知道，如有侵权请联系我删除）

![Class Diagram](设计模式-开篇记\Class Diagram.png)



各种不同组件之间的关系如上图，其中组合和聚合容易混淆：组合的关系比较强，例如翅膀是鸟不可分割的一部分，翅膀离开鸟就毫无意义；聚合的关系稍微弱一些，例如大雁在一起成了雁群，但是脱离雁群依然有自己的生命。关联和依赖同样如此，不同气候下人的肤色不一样；但人都需要大气和水，所以人气候是关联关系，但是人依赖大气和水。



# 设计原则

## 总纲：开闭原则

开闭原则是接下来说的几种设计原则的总纲，它的定义为：Software entities like classes,modules and functions shoud be open for extension but closed for modifications.

简单来说，就是“对修改关闭，对扩展开放”。

举个例子：

    我们原来的交易系统总共有三种订单类型：商城订单，代金券订单，商户买单订单。三种业务对应的业务类型编码是不一样的，按照普通的方式来写，我们是这种方式：

```java
if("mallOrder".equals(type)){
    businessService.doMallBusiness();
}else if("voucherOrder".equals(type)){
    businessService.doVoucherBusiness();
}else{
    //......
}
```

这个时候如果我们新增一个业务，我们需要怎么做呢？首先我们需要在businessService这个接口里加一个方法，然后在这个接口里加一个实现类，最后我们需要在上述代码中在加个else if的判断。这么做需要连续修改原来的三个类，但是实际上，我们只是新增一个业务而已，完全没必要对原来的代码进行改变。




